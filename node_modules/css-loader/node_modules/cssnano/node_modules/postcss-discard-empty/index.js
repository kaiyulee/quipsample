'use strict';
var postcss = require('postcss');

function discardEmpty(node) {
	if (node.nodes) { node.each(discardEmpty); }

	if (
		(node.type === 'decl' && !node.value) ||
		(node.type === 'rule' && !node.selector || (node.nodes && !node.nodes.length)) ||
		(node.type === 'atrule' && ((!node.nodes && !node.params) || (!node.params && !node.nodes.length)))
		) {
<<<<<<< HEAD
		node.remove();
=======
		node.removeSelf();
>>>>>>> 14e45b6ab8a1ca954f5516d80087167e98f6b292
	}
}

module.exports = postcss.plugin('postcss-discard-empty', function () {
	return function (css) {
		css.each(discardEmpty);
	};
});
